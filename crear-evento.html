
<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="{{ asset('css/app.css') }}" rel="stylesheet">
        <!-- CSS leaflet -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
        <link rel='stylesheet' href='https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css'>

         <!-- Script Leaflet -->
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>

        <script src='https://unpkg.com/leaflet@1.7.1/dist/leaflet.js'></script>
        <script src='https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js'></script>


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;600;700&display=swap" rel="stylesheet">
    <!--LINKING FAVICON-->
    <link rel="icon" type="image/ico" href="/favicon/favicon_2.ico">

    <link rel="stylesheet" href="../css/app.css">
    <title>crear evento</title>

    </head>
    <body class="antialiased">
        <!-- SECCION 1. HEADER -->
        <header class="header header-user-account">
            <div class="contenido-header contenido-header-user-account">
                <!-- SECCION 1.1 LOGO -->
                <div class="logo">
                    <img src="../logo/logo_1.png" alt="">
                </div>
                <!-- SECCION 1.2 BARRA DE NAVEGACION -->
                <nav class="navegacion-principal">
                    <ul class="menu-horizontal navegacion-principal">
                        <li class="li-menu-hori">
                            <a class="enlace-menu-hori enlace-menu-hori--hover" onmouseover="" onmouseout="" href="#">Administrar</a>
                            <ul class="menu-vertical menu-vertical--hover" >
                                <li class="li-menu-vert"><a class="enlace-menu-vert" href="">eventos</a></li>
                                <li class="li-menu-vert"><a class="enlace-menu-vert" href="">clientes</a></li>
                                <li class="li-menu-vert"><a class="enlace-menu-vert" href="">servicios</a></li>
                            </ul>
                        </li>
                        <li class="li-menu-hori">
                            <a class="enlace-menu-hori enlace-menu-hori--hover" href="#">Estadisticas</a>
                            <ul class="menu-vertical menu-vertical--hover">
                                <li class="li-menu-vert"><a class="enlace-menu-vert" href="">por categoria</a></li>
                                <li class="li-menu-vert"><a class="enlace-menu-vert" href="">por zonas</a></li>
                            </ul>
                        </li>
                        <li class="li-menu-hori"> 
                            <a class="enlace-menu-hori enlace-menu-hori--hover" href="#">Publicar</a>
                            <ul class="menu-vertical menu-vertical--hover">
                                <li class="li-menu-vert"><a class="enlace-menu-vert" href="">eventos</a></li>
                                <li class="li-menu-vert"><a class="enlace-menu-vert" href="">servicios</a></li>
                            </ul>  
                        </li>
        
                        <li class="li-menu-hori"> 
                            <a class="enlace-menu-hori enlace-menu-hori--hover" href="#">Salir</a>
                        </li>
                    </ul>
        
                </nav>
        
                <!-- SECCION 1.3 FICHA PERFIL USUARIO -->
                <div class="ficha-perfil">
                    <div class="contenido-ficha-perfil">
                        <figure class="foto-perfil">
                            <img src="../images/perfil-business-pic/foto_bg_blanco_1.png" alt="">
                            <figcaption>
                                <h3 class="heading-nombre-negocio" >PROMOTORES S.A.S</h3>
                            </figcaption>
                        </figure>
                        <div class="modal modal-gestionar-cuenta">
                            <div class="contenido-modal-gestionar-cuenta">
                                <a class="btn btn-administrar-cuenta" href=""><p>Administrar Cuenta Tickevent</p></a>
                                <table>
                                    <tr>    <td>Negocio: </td><td>promotores s.a.s</td> </tr>
                                    <tr>    <td>Nombre: </td><td>Alberto Berrios</td>   </tr>
                                    <tr>    <td>Correo: </td><td>albertoberrios@gmail.com</td>  </tr>
                                    <tr>    <td></td><td>salir</td></tr> 
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- SECCION 1.2 CIERRE  -->
                </div>
            </div>
        </header>
    
    <!-- SECCION 1.2 FORMULARIO CREAR EVENTO  -->
    <section class="form-crear-evento">
        <div class="contenedor contenido-formulario">
            <form action="{{url('/eventos')}}" method="POST" class="formulario" enctype="multipart/form-data">  //enctype="multipart/form-data"  nos permite enviar formulario con fotoas
                @csrf
                <h2 class="heading-formulario">crea tu evento</h2>
                <fieldset class="form-grupo">

                    <div class="campo">
                        <label for="id_promotor">ID Organizar:</label>
                        <input type="text" id="id_promotor" name="id_promotor">
                    </div>
                    <div class="campo">
                        <label for="nombre_evento">Nombre Evento:</label>
                        <input type="text" id="nombre_evento" name="nombre_evento">
                    </div>
                    <div class="campo">
                        <label class="descripcion" for="descripcion">Descripción:</label>
                        <textarea id="descripcion" name="descripcion"></textarea>                     
                    </div>
                    <div class="campo">

                        <label for="lugar">Lugar:</label>
                        <input class="login-campo-texto" type="text" id="lugar" name="lugar">
                    </div>
                    <div class="campo">
                        <label for="modalidad">Modalidad:</label>
                        <input type="text" id="modalidad" name="modalidad">
                    </div>
                    <div class="campo">
                        <label for="medio_transmision">Medio de Trasmisión:</label>
                        <input type="text" id="medio_transmision" name="medio_transmision">
                    </div>
                    <div class="campo">
                        <label for="enlace_conexio">Enlace de Conexión:</label>
                        <input type="text" id="enlace_conexio" name="enlace_conexio">
                    </div>
                    <div class="campo">
                        <label for="presentador">Presentador:</label>
                        <input type="text" id="presentador" name="presentador">
                    </div>
                    <div class="campo">
                        <label for="direccion">Dirección:</label>
                        <input type="text" id="direccion" name="direccion">
                    </div>
                </fieldset>
            
                <fieldset class="form-grupo">
                    <div class="campo">
                        <label for="fecha_incio">Fecha de Inicio:</label>
                        <input type="date" id="fecha_incio" name="fecha_incio">                    
                    </div>
                    <div class="campo">
                        <label for="hora_inicio">Hora de Inicio:</label>
                        <input type="time" id="hora_inicio" name="hora_inicio">
                    </div>
                    <div class="campo">
                        <label for="estado">estado</label>
                        <input type="text" id="estado" name="estado">
                    </div>
                    <div class="campo">
                        <label for="monetizacion">pago/libre</label>
                        <input type="text" id="monetizacion" name="monetizacion">
                    </div>
                    <div class="campo">
                        <label for="costoboleta">Costo boleta:</label>
                        <input type="text" id="costoboleta" name="costoboleta">
                    </div>
                    <div class="campo">
                        <label for="aforo">Aforo:</label>
                        <input type="text" id="aforo" name="aforo">
                    </div>
                    <div class="campo">
                        <label for="total_vendidos">Total vendidos:</label>
                        <input type="text" id="total_vendidos" name="total_vendidos">
                    </div>
                    <div class="campo">
                        <label for="plazas_disponibles">Plazas disponibles:</label>
                        <input type="text" id="plazas_disponibles" name="plazas_disponibles">
                    </div>
                    <div class="campo">
                        <label for="ubicacion">Ubicación:</label>
                        <input type="text" id="ubicacion" name="ubicacion">
                    </div>

                    <div class="campo">
                        <label for="id_categoria_ev">Categoría:</label>
                        <select id="id_categoria_ev" name="id_categoria_ev">
                            <option value="Musical">Musical</option>
                            <option value="Teatro">Teatro</option>
                            <option value="Deporte">Deporte</option>
                        </select>
                    </div>
                    <div id="map" style="height: 300px; width: 300px;"></div>

                    <div class="campo">
                        
                        <label for="latitude">Latitude:</label>
                        <input id="latitude" type="text" />
                        <label for="longitude">Longitude:</label>
                        <input id="longitude" type="text" />
                    </div>

                </fieldset>
            
                <fieldset class="form-grupo form-grupo-cargar-img">
                    <div class="campo">
                        <div id="image-preview"></div>
                        <label for="image-input">Imágen:</label>
                        <input class="btn" type="file" id="img" name="img">
                        <button class="btn btn-enviar" type="submit">Enviar</button>                      
                    </div>
                </fieldset>


            </form>

        
        </div>
    </section>

    <script>

        // Nominatim does not map some actual addresses
        'use strict';

        // Map
        const map = L.map('map', {
        center: [4.716713772370445, -74.06662448808277],
        zoom: 10,               
        });

        // Open Street Map 
        const osm = L.tileLayer('//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&#169; <a href="//www.openstreetmap.org/">OpenStreetMap</a>'
        }).addTo(map);

        // container for address search results
        const addressSearchResults = new L.LayerGroup().addTo(map);

        /*** Geocoder ***/
        // OSM Geocoder
        const osmGeocoder = new L.Control.geocoder({
            collapsed: false,
            position: 'topright',
            text: 'Address Search',
            placeholder: 'Enter street address',
        defaultMarkGeocode: false
        }).addTo(map);    

        // handle geocoding result event
        osmGeocoder.on('markgeocode', e => {
        // to review result object
        console.log(e);
        // coordinates for result
        const coords = [e.geocode.center.lat, e.geocode.center.lng];
        // center map on result
        map.setView(coords, 16);
        // popup for location
        // todo: use custom icon
        const resultMarker = L.marker(coords).addTo(map);
        // add popup to marker with result text
        resultMarker.bindPopup(e.geocode.name).openPopup();
        });

        const marker = L.marker([4.650476116279529, -74.08714900414853]).addTo(map)
            .bindPopup('<b>Posicionemos Tu Evento</b><br />Establece la ubicacion de tu evento.').openPopup();
/*
        const popup = L.popup()
            .setLatLng([4.716713772370445, -74.06662448808277])
            .setContent('Tickevent siempre contigo')
            .openOn(map);
*/
        function onMapClick(e) {
            popup
                .setLatLng(e.latlng)
                .setContent(`You clicked the map at ${e.latlng.toString()}`)
                .openOn(map);
        }


        map.on('click', function (e) {
        marker.setLatLng(e.latlng);
        updateLatLng(marker.getLatLng().lat, marker.getLatLng().lng);
        });
        function updateLatLng(lat,lng,reverse) {
        if(reverse) {
        marker.setLatLng([lat,lng]);
        map.panTo([lat,lng]);
        } else {
        document.getElementById('latitude').value = marker.getLatLng().lat;
        document.getElementById('longitude').value = marker.getLatLng().lng;
        map.panTo([lat,lng]);
        }
        }
    </script>
<!-- SECCION 4. FOOTER -->
<footer class="footer">
    <div class="contenedor contenido-footer">
        <section class="footer-info">
            <div class="tarjeta-footer">
                <div class="capsula-tarjeta-footer">
                    <h2 class="titulo-targeta-footer">tickevent</h2>
                    <ul>
                        <li><a href="">Quienes somos</a></li>
                        <li><a href="">Funcionamiento</a></li>
                        <li><a href="">Porque elegirnos</a></li>
                        <li><a href="">Tarifas</a></li>
                    </ul>                       
                </div>
            </div>

            <div class="tarjeta-footer">
                <div class="capsula-tarjeta-footer">
                    <h2 class="titulo-targeta-footer">mis tickets</h2>
                    <ul>
                        <li><a href="">Reenviar tickets</a></li>
                        <li><a href="">cancelar tickets</a></li>
                        <li><a href="">soporte tecnico</a></li>
                    </ul>
                </div>
            </div>

            <div class="tarjeta-footer">
                <div class="capsula-tarjeta-footer">
                    <h2 class="titulo-targeta-footer">ciudades</h2>
                    <ul>
                        <li><a href="">Que hacer en bogota</a></li>
                        <li><a href="">Que hacer en Cali</a></li>
                        <li><a href="">Que hacer en Medellin</a></li>
                        <li><a href="">Conciertos en Santa Marta</a></li>
                        <li><a href="">Conciertos en Cartagena</a></li>
                    </ul>
                </div>
            </div>

            <div class="tarjeta-footer">
                <div class="capsula-tarjeta-footer">
                    <h2 class="titulo-targeta-footer">siguenos</h2>
                    <ul>
                        <li>
                            <figure class="icono-redes icono-redes-fb"><img src="images/icon/icon_facebook.png" alt=""></figure>
                            <a href="">Facebook</a>
                        </li>
                        <li>
                            <figure class="icono-redes icono-redes-i"><img src="images/icon/icon_instagram.png" alt=""></figure>
                            <a href="">Instagram</a>
                        </li>
                    </ul>
                </div>

            </div>

        </section>

        <div class="derechos-autor">
            <p>2023 © Tickevent. Todos los Derechos Reservados.</p>
            <p>Política de privacidad    |    términos y condiciones</p>
        </div>

    </div>
</footer>
</body>
</html>
